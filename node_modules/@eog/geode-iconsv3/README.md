<p align="center">
  <a href="https://geode-web.svc.eogresources.com/" rel="noopener" target="_blank"><img width="fit-content" src="../../static/img/geode-banner.png" alt="Geode Banner"></a>
</p>

# `@eog/geode-iconsv3`

The icon library uses SVGs as the source of truth to generate a react icon library.

V3 uses [`react-svgr`](https://react-svgr.com/) to transform SVG elements into React components.

However, if for whatever reason you need the raw SVG, this library provides that too!

## Install library

```sh
yarn add @eog/geode-iconsv3

//or

npm install @eog/geode-iconsv3
```

## Using In Code

You can import and use the components like so:

```jsx
import { Sun } from '@eog/geode-iconsv3';

//or

import NewGeodeIcons from '@eog/geode-iconsv3';

const { Sun } = NewGeodeIcons;
```

## Adding Icons

The old icon library had the option to submit new SVGs to the library. This will be coming back soon!

For now, you can create an issue in this repository and submit a request!

To ensure that icons can be properly generated and easy to maintain, SVGs must have a specific structure. The structure is validated when running tests.

### SVG Structure

The first line must be exactly the following to guarantee proper sizing:

```xml
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
```

- There must be a `<title>`, which will be displayed in documentation.
- There must be a `<desc>`, which provides a comma seperated list of search terms for the icon.
- There must be at least one `<path d="some svg path">`.
- No `<g>` (groups) because they typically only hold transforms or global attributes.
- No polygons, circles, etc. - everything should be a path.

##### Two Color Icon Options

- Paths that should only show up in two color icons (like backgrounds) should have the attribute `fill="none`. For example, `<path fill="none" d="M2,7a5,5 0 1,0 10,0a5,5 0 1,0 -10,0" />`
- Paths that should always appear but should change colors in a two color icon should have the attribute `data-secondary-color="true"`. For example, `<path data-secondary-color="true" d="M2,7a5,5 0 1,0 10,0a5,5 0 1,0 -10,0" />`

### Example of a well formatted SVG:

```xml
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  <title>Circles</title>
  <desc>circles, dots</desc>
  <path d="M2,7a5,5 0 1,0 10,0a5,5 0 1,0 -10,0" />
  <path d="M12,17a5,5 0 1,0 10,0a5,5 0 1,0 -10,0" />
</svg>
```

<!-- ## Exporting from Sketch

To export an icon from Sketch that will get you 90% of the way to the format above, you need to do a few things.

#### Setup SVGO Compressor

1. Install [the SVGO Compressor plugin](https://sketchapp.com/extensions/plugins/svgo-compressor/).
2. Click <strong>Plugins</strong> › <strong>SVGO Compressor</strong> › <strong>About SVGO Compressor</strong> and then click the <strong>Edit SVGO Settings...</strong> button.
3. Replace the contents of the file that opened with the contents of this file: [svgo.json](config/svgo.json)

#### Prepare your file

To generate a good candidate icon for the library, the file should only contain shapes on a 24 x 24 artboard. No masks, symbols, folders, etc. Combined shapes are fine. Set all fills to `#000000` at 100% opacity. No borders, shadows, or blurs. When you are happy with it, export the entire artboard as an SVG.

Save the file with the name of the icon in snake case. Example: `EOGFlame` should be `e_o_g_flame.svg`.

Open the created SVG, and add a `<title>` and `<desc>` like above. -->

## More

[CHANGELOG](https://git.eogresources.com/eog/Geode-Web/tree/master/CHANGELOG.md)

### Updating icons

Run this command after adding new svgs to the `svg/` folder:

```
npx @svgr/cli -d src/components --out-dir src/components --typescript src/svg
```

This will use the config options from `.svgrrc.js` and convert all new svgs to components in the `components/` folder.
